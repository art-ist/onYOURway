using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using System.Data.Entity.Spatial;

namespace onYOURway.Models {

	[Table("Realms", Schema = "oyw")]
	public partial class Realm {

		/// <summary>
		/// Unique id
		/// </summary>
		[Key]
		public Int32 Id { get; set; }

		/// <summary>
		/// Pattern to recognize Realm to Url
		/// </summary>
		public String UrlPattern { get; set; }

		/// <summary>
		/// Native name e.g. used as title in realm description
		/// </summary>
		public String Name { get; set; }

		/// <summary>
		/// Native description
		/// </summary>
		public String Description { get; set; }

		/// <summary>
		/// Id or Key of the RootElement of the taxonomy used by this realm thus selecting the available taxonomy
		/// </summary>
		public String TaxonomyKey { get; set; }

		/// <summary>
		/// Optional geographical focus of the realm. Null means worldwide.
		/// </summary>
		[JsonConverter(typeof(DbGeographyConverter))]
		public DbGeography Boundary { get; set; }

		#region navigation properties

		/// <summary>
		/// Navigation property 
		/// </summary>
		/// <remarks>Joins and foreign keys are generated by this</remarks>
		[InverseProperty("RealmKey")] //define Key in RealmsLocalized to be the ForeignKey in RealmLocalized pointing to this
		public virtual ICollection<RealmLocalized> Localizations { get; set; }
		
		#endregion navigation properties

	}///Realm


	[Table("RealmsLocalized", Schema="oyw")]
	public partial class RealmLocalized {

		/// <summary>
		/// Key of realm to be localized
		/// </summary>
		[Key, Column(Order = 0), MaxLength(40)]
		public String RealmId { get; set; }

		/// <summary>
		/// Locale e.g. "de-DE" or language e.g. "de" of localization
		/// </summary>
		[Key, Column(Order = 1), MinLength(2), MaxLength(5)]
		public string Locale { get; set; }

		/// <summary>
		/// Localized name
		/// </summary>
		public String Name { get; set; }

		/// <summary>
		/// Localized description
		/// </summary>
		public String Description { get; set; }

	} //RealmLocalized

}
